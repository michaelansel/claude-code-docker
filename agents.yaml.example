# Agent registry — maps agent names to working directories.
# Copy to ~/.claude-docker/agents.yaml and edit.
#
# Usage:
#   claude-docker agent run <name>    Run agent attached to its directory
#   claude-docker agent list          List available agents
#
# Simple format — just a name and directory:
notes: ~/Documents/Notes
#
# Extended format — per-agent config (workspace is required, model is optional):
# coder:
#   workspace: ~/Code/project
#   model: opus
#   prompt: "Review open issues and suggest fixes."
#
# Environment variables — pass custom env vars to the container:
# myagent:
#   workspace: ~/Code/myproject
#   model: opus
#   env:
#     ANTHROPIC_BASE_URL: https://api.anthropic.com
#     MY_CUSTOM_VAR: value
#
# Init commands — run before launching Claude (useful for setup tasks):
# myagent:
#   workspace: ~/Code/myproject
#   init:
#     - "source ~/venv/bin/activate"
#     - "git pull origin main"
#
# Trigger loop — claude-docker manages the restart loop host-side (zero idle tokens).
# The container runs once per trigger, then exits. Suitable for task-processor agents
# where each trigger is independent. NOT suitable for conversational agents needing
# multi-turn context (each container run starts with no session memory).
# Agents should document work to files/git before exiting.
#
# worker:
#   workspace: ~/Code/worker
#   prompt: "Check your inbox and handle any pending tasks."
#   triggers:
#     - type: c3po          # fires when C-3PO inbox has messages
#
# ithaca:
#   workspace: ~/Code/ithaca
#   prompt: "Process pending C-3PO messages and work on the highest-priority ready items. Generate a session report before stopping."
#   triggers:
#     - type: c3po
#     - type: script
#       command: python3 lib/wait-for-graph.py   # relative to workspace; exits 0 when ready
#   post_run:
#     - bash scripts/post-session.sh   # runs after each container exit, relative to workspace
#
# Trigger types:
#   c3po   — long-poll C-3PO inbox; fires when a message is pending
#   script — run command (cwd=workspace); fires when exit 0; nonzero retries with backoff
#
# --once flag: run the container once without entering the loop, for debugging:
#   claude-docker agent run ithaca --once
