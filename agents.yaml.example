# Agent registry — maps agent names to working directories.
# Copy to ~/.claude-docker/agents.yaml and edit.
#
# Usage:
#   claude-docker agent run <name>    Run agent attached to its directory
#   claude-docker agent list          List available agents
#
# Simple format — just a name and directory:
notes: ~/Documents/Notes
#
# Extended format — per-agent config (workspace is required, model is optional):
# coder:
#   workspace: ~/Code/project
#   model: opus
#   prompt: "Review open issues and suggest fixes."
#
# Environment variables — pass custom env vars to the container:
# myagent:
#   workspace: ~/Code/myproject
#   model: opus
#   env:
#     ANTHROPIC_BASE_URL: https://api.anthropic.com
#     MY_CUSTOM_VAR: value
#
# Init commands — run before launching Claude (useful for setup tasks):
# myagent:
#   workspace: ~/Code/myproject
#   init:
#     - "source ~/venv/bin/activate"
#     - "git pull origin main"
#
# Trigger loop — agent wakes only when a trigger fires (zero idle token cost).
# Claude runs once per trigger, does its work, then exits. claude-docker restarts
# it on the next trigger. Each run starts with a fresh session (no memory of
# previous runs). See docs/agent-mode.md for the full guide and migration steps.
#
# ithaca:
#   workspace: ~/Code/ithaca
#   prompt: "Check your c3po inbox and handle any pending tasks. Commit your work before exiting."
#   triggers:
#     - type: c3po             # fires when a c3po message is waiting in the inbox
#     - type: script
#       command: python3 lib/check-queue.py  # fires on exit 0; nonzero retries with backoff
#   post_run:
#     - bash scripts/post-session.sh  # runs on the host after each container exit
#
# --once flag: skip the trigger loop and run the container once (useful for debugging):
#   claude-docker agent run ithaca --once
